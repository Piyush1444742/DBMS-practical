CREATE TABLE dept (
    dept_id     NUMBER(5) PRIMARY KEY,
    dept_name   VARCHAR(50) NOT NULL UNIQUE
);


CREATE TABLE emp (
  emp_id NUMBER PRIMARY KEY,
  emp_name VARCHAR2(50) NOT NULL,
  job_title VARCHAR2(50),
  salary NUMBER CHECK (salary > 0),
  dept_id NUMBER,
  CONSTRAINT fk_dept FOREIGN KEY (dept_id) REFERENCES dept(dept_id)
);

CREATE OR REPLACE VIEW v_emp AS
SELECT emp_id, emp_name, job_title, salary
FROM emp
WHERE salary > 3000;

CREATE OR REPLACE VIEW v_dept_emp AS
SELECT d.dept_name, e.emp_name, e.salary
FROM dept d JOIN emp e ON d.dept_id = e.dept_id;

INSERT INTO v_emp VALUES (101, 'John', 'Manager', 5000);
INSERT INTO v_emp VALUES (102, 'Monty', 'Analyst', 5000);
UPDATE v_emp SET salary = 5500 WHERE emp_id = 101;
DELETE FROM v_emp WHERE emp_id = 101;

CREATE INDEX EmployeeId ON emp (dept_id ASC, emp_id ASC);

CREATE SEQUENCE emp_seq START WITH 100 INCREMENT BY 1;

DROP INDEX EmployeeId;